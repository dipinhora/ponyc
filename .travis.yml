language: c

dist: trusty
sudo: required

services:
  - docker

env:
  global:
    - MAKEFLAGS="-j 2"
    - CROSS_ARCH=
    - FAVORITE_CONFIG=no
    - CC1=gcc
    - CXX1=g++
    - ICC1=gcc-6
    - ICXX1=g++-6

matrix:
  fast_finish: true

  include:

    # i686
    - os: linux
      env:
        - VAGRANT_ENV=ubuntu-i686

    # freebsd
    - os: linux
      env:
        - VAGRANT_ENV=freebsd-x86_64

    - os: linux
      env:
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=debug

    - os: linux
      env:
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=release

    - os: linux
      env:
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=debug

    - os: linux
      env:
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=release

    - os: linux
      env:
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=debug

    - os: linux
      env:
        - FAVORITE_CONFIG=yes
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=release

    - os: linux
      env:
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=debug

    - os: linux
      env:
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=release

    - os: linux
      env:
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=debug

    - os: linux
      env:
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=release

    # i686
    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    # armv7-a
    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: osx
      env:
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - CC1=clang-3.7
        - CXX1=clang++-3.7

    - os: osx
      env:
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - CC1=clang-3.8
        - CXX1=clang++-3.8

    - os: osx
      env:
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - CC1=clang-3.9
        - CXX1=clang++-3.9

    - os: osx
      env:
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - CC1=clang-4.0
        - CXX1=clang++-4.0

    - os: osx
      env:
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - CC1=clang-5.0
        - CXX1=clang++-5.0

  allow_failures:

    # i686
    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=debug
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    - os: linux
      env:
        - CROSS_ARCH=i686
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=release
        - CROSS_CFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-m32 -idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=i686-unknown-linux-gnu
        - CROSS_LINKER='gcc-6 -m32'
        - CROSS_CC=gcc-6
        - CROSS_CXX=g++-6
        - CROSS_TUNE=generic

    # armv7-a
    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.7.1"
        - LLVM_CONFIG="llvm-config-3.7"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.8.1"
        - LLVM_CONFIG="llvm-config-3.8"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="3.9.1"
        - LLVM_CONFIG="llvm-config-3.9"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="4.0.1"
        - LLVM_CONFIG="llvm-config-4.0"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=debug
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

    - os: linux
      env:
        - CROSS_ARCH=armv7-a
        - LLVM_VERSION="5.0.0"
        - LLVM_CONFIG="llvm-config-5.0"
        - config=release
        - CROSS_CFLAGS='-idirafter /usr/cross/include/'
        - CROSS_CXXFLAGS='-idirafter /usr/cross/include/'
        - CROSS_LDFLAGS='-idirafter /usr/cross/include/'
        - CROSS_BITS=32
        - CROSS_TRIPLE=arm-unknown-linux-gnueabihf
        - CROSS_LINKER=arm-linux-gnueabihf-gcc
        - CROSS_CC=arm-linux-gnueabihf-gcc
        - CROSS_CXX=arm-linux-gnueabihf-g++
        - QEMU_RUNNER='qemu-arm-static --cpu cortex-a7 -L /usr/local/arm-linux-gnueabihf/libc'
        - CROSS_TUNE=generic-armv7-a

rvm:
  - 2.2.3

install:
  - if [ $VAGRANT_ENV = ubuntu-i686 ]; then bash .vagrant_install.bash; else bash .travis_install.bash; fi

script:
  - bash .travis_script.bash
